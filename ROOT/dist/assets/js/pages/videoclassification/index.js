var resultList = [
  {
    msg: "解析成功",
    result: [
      {
        name: "人物-人物特写",
        position: "01:51-01:52",
        imagePath: "/file/videoImg/1/image_8.jpg",
        score: 0.841561,
        data: [
          {
            keyword: "医生",
            score: 0.841561,
            root: "人物-人物特写",
          },
          {
            keyword: "中医科",
            score: 0.659257,
            root: "人物-人物特写",
          },
          {
            keyword: "人物特写",
            score: 0.446071,
            root: "人物-人物特写",
          },
          {
            keyword: "屏幕截图",
            score: 0.234741,
            root: "非自然图像-屏幕截图",
          },
        ],
      },
      {
        name: "人物-人物特写",
        position: "02:21-02:22",
        imagePath: "/file/videoImg/1/image_10.jpg",
        score: 0.821149,
        data: [
          {
            keyword: "护工",
            score: 0.821149,
            root: "人物-人物特写",
          },
          {
            keyword: "门诊",
            score: 0.637974,
            root: "建筑-医疗手术场所",
          },
          {
            keyword: "医生",
            score: 0.46601,
            root: "人物-人物特写",
          },
          {
            keyword: "护理人员",
            score: 0.295563,
            root: "人物-人物特写",
          },
        ],
      },
      {
        name: "非自然图像-屏幕截图",
        position: "00:06-00:07",
        imagePath: "/file/videoImg/1/image_1.jpg",
        score: 0.807504,
        data: [
          {
            keyword: "屏幕截图",
            score: 0.807504,
            root: "非自然图像-屏幕截图",
          },
          {
            keyword: "电视屏幕",
            score: 0.549839,
            root: "商品-数码",
          },
          {
            keyword: "卡通动漫人物",
            score: 0.348655,
            root: "非自然图像-彩色动漫",
          },
          {
            keyword: "美女",
            score: 0.181258,
            root: "人物-人物特写",
          },
        ],
      },
      {
        name: "人物活动-体育活动",
        position: "03:06-03:07",
        imagePath: "/file/videoImg/1/image_13.jpg",
        score: 0.763819,
        data: [
          {
            keyword: "篮球框",
            score: 0.763819,
            root: "人物活动-体育活动",
          },
          {
            keyword: "篮球架",
            score: 0.602813,
            root: "商品-运动健康",
          },
          {
            keyword: "篮球器材",
            score: 0.439359,
            root: "人物活动-体育活动",
          },
          {
            keyword: "屏幕截图",
            score: 0.223573,
            root: "非自然图像-屏幕截图",
          },
        ],
      },
      {
        name: "非自然图像-屏幕截图",
        position: "01:06-01:07",
        imagePath: "/file/videoImg/1/image_5.jpg",
        score: 0.759612,
        data: [
          {
            keyword: "屏幕截图",
            score: 0.759612,
            root: "非自然图像-屏幕截图",
          },
          {
            keyword: "戈壁",
            score: 0.522096,
            root: "自然风景-戈壁",
          },
          {
            keyword: "自然/人文景观",
            score: 0.326525,
            root: "自然风景-岩壁及山体雕刻",
          },
          {
            keyword: "沙漠化",
            score: 0.1659,
            root: "自然图像-地质岩石土壤",
          },
        ],
      },
      {
        name: "人物-人物特写",
        position: "01:36-01:37",
        imagePath: "/file/videoImg/1/image_7.jpg",
        score: 0.757074,
        data: [
          {
            keyword: "人物特写",
            score: 0.757074,
            root: "人物-人物特写",
          },
          {
            keyword: "美女",
            score: 0.589162,
            root: "人物-人物特写",
          },
          {
            keyword: "驼峰鼻",
            score: 0.406918,
            root: "非自然图像-病理图",
          },
          {
            keyword: "屏幕截图",
            score: 0.243105,
            root: "非自然图像-屏幕截图",
          },
        ],
      },
      {
        name: "商品-货架",
        position: "02:36-02:37",
        imagePath: "/file/videoImg/1/image_11.jpg",
        score: 0.729776,
        data: [
          {
            keyword: "脚手架",
            score: 0.729776,
            root: "商品-货架",
          },
          {
            keyword: "门",
            score: 0.5732,
            root: "商品-家具",
          },
          {
            keyword: "窗",
            score: 0.418145,
            root: "商品-家装建材",
          },
          {
            keyword: "笼子",
            score: 0.26491,
            root: "商品-容器",
          },
        ],
      },
      {
        name: "人物-人物特写",
        position: "03:21-03:22",
        imagePath: "/file/videoImg/1/image_14.jpg",
        score: 0.72537,
        data: [
          {
            keyword: "人物特写",
            score: 0.72537,
            root: "人物-人物特写",
          },
          {
            keyword: "眼镜",
            score: 0.569159,
            root: "商品-眼镜",
          },
          {
            keyword: "电视屏幕",
            score: 0.393398,
            root: "商品-数码",
          },
          {
            keyword: "鬓发",
            score: 0.218456,
            root: "人物-人物特写",
          },
        ],
      },
      {
        name: "人物-人物特写",
        position: "00:21-00:22",
        imagePath: "/file/videoImg/1/image_2.jpg",
        score: 0.719254,
        data: [
          {
            keyword: "人物特写",
            score: 0.719254,
            root: "人物-人物特写",
          },
          {
            keyword: "电视屏幕",
            score: 0.515749,
            root: "商品-数码",
          },
          {
            keyword: "屏幕截图",
            score: 0.340569,
            root: "非自然图像-屏幕截图",
          },
          {
            keyword: "龅牙",
            score: 0.162419,
            root: "非自然图像-病理图",
          },
        ],
      },
      {
        name: "自然风景-海洋",
        position: "02:06-02:07",
        imagePath: "/file/videoImg/1/image_9.jpg",
        score: 0.718901,
        data: [
          {
            keyword: "海洋",
            score: 0.718901,
            root: "自然风景-海洋",
          },
          {
            keyword: "婚纱写真",
            score: 0.567348,
            root: "人物-人物特写",
          },
          {
            keyword: "湖泊",
            score: 0.346707,
            root: "自然风景-湖泊",
          },
          {
            keyword: "人物特写",
            score: 0.183483,
            root: "人物-人物特写",
          },
        ],
      },
      {
        name: "人物-人物特写",
        position: "00:36-00:37",
        imagePath: "/file/videoImg/1/image_3.jpg",
        score: 0.712138,
        data: [
          {
            keyword: "人物特写",
            score: 0.712138,
            root: "人物-人物特写",
          },
          {
            keyword: "鬓发",
            score: 0.557249,
            root: "人物-人物特写",
          },
          {
            keyword: "羽毛球赛",
            score: 0.407258,
            root: "人物活动-体育活动",
          },
          {
            keyword: "屏幕截图",
            score: 0.257008,
            root: "非自然图像-屏幕截图",
          },
        ],
      },
      {
        name: "建筑-其他",
        position: "02:51-02:52",
        imagePath: "/file/videoImg/1/image_12.jpg",
        score: 0.549318,
        data: [
          {
            keyword: "吸塑招牌",
            score: 0.549318,
            root: "建筑-其他",
          },
          {
            keyword: "沿街店面",
            score: 0.398208,
            root: "建筑-现代建筑",
          },
          {
            keyword: "文字图片",
            score: 0.294122,
            root: "非自然图像-文字图",
          },
          {
            keyword: "手抄报",
            score: 0.248141,
            root: "非自然图像-文字图",
          },
        ],
      },
      {
        name: "交通工具-热气球",
        position: "00:51-00:52",
        imagePath: "/file/videoImg/1/image_4.jpg",
        score: 0.530368,
        data: [
          {
            keyword: "热汽球",
            score: 0.530368,
            root: "交通工具-热气球",
          },
          {
            keyword: "卡通动漫人物",
            score: 0.395974,
            root: "非自然图像-彩色动漫",
          },
          {
            keyword: "屏幕截图",
            score: 0.277767,
            root: "非自然图像-屏幕截图",
          },
          {
            keyword: "月亮",
            score: 0.125054,
            root: "自然图像-宇宙天文",
          },
        ],
      },
      {
        name: "商品-数码",
        position: "03:36-03:37",
        imagePath: "/file/videoImg/1/image_15.jpg",
        score: 0.518879,
        data: [
          {
            keyword: "电视屏幕",
            score: 0.518879,
            root: "商品-数码",
          },
          {
            keyword: "人物特写",
            score: 0.420599,
            root: "商品-服装",
          },
          {
            keyword: "护理人员",
            score: 0.304992,
            root: "人物-人物特写",
          },
          {
            keyword: "电视机",
            score: 0.157485,
            root: "商品-家用电器",
          },
        ],
      },
      {
        name: "非自然图像-屏幕截图",
        position: "01:21-01:22",
        imagePath: "/file/videoImg/1/image_6.jpg",
        score: 0.270156,
        data: [
          {
            keyword: "屏幕截图",
            score: 0.270156,
            root: "非自然图像-屏幕截图",
          },
          {
            keyword: "美女",
            score: 0.203182,
            root: "人物-人物特写",
          },
          {
            keyword: "电视屏幕",
            score: 0.136089,
            root: "商品-数码",
          },
          {
            keyword: "文字图片",
            score: 0.066933,
            root: "非自然图像-文字图",
          },
        ],
      },
    ],
    code: "200",
  },
  {
    msg: "解析成功",
    result: [
      {
        name: "商品-农用物资",
        position: "01:21-01:22",
        imagePath: "/file/videoImg/2/image_6.jpg",
        score: 0.895838,
        data: [
          {
            keyword: "花卉",
            score: 0.895838,
            root: "商品-农用物资",
          },
          {
            keyword: "火棘",
            score: 0.567246,
            root: "植物-蔷薇科",
          },
          {
            keyword: "红果",
            score: 0.384303,
            root: "植物-果实/种子",
          },
          {
            keyword: "火棘属",
            score: 0.198229,
            root: "植物-花",
          },
        ],
      },
      {
        name: "植物-唇形科",
        position: "01:36-01:37",
        imagePath: "/file/videoImg/2/image_7.jpg",
        score: 0.869015,
        data: [
          {
            keyword: "薰衣草",
            score: 0.869015,
            root: "植物-唇形科",
          },
          {
            keyword: "紫色薰衣草",
            score: 0.674195,
            root: "植物-其它",
          },
          {
            keyword: "羽叶薰衣草",
            score: 0.492293,
            root: "植物-唇形科",
          },
          {
            keyword: "千屈菜",
            score: 0.312645,
            root: "植物-千屈菜科",
          },
        ],
      },
      {
        name: "商品-农用物资",
        position: "02:21-02:22",
        imagePath: "/file/videoImg/2/image_10.jpg",
        score: 0.861936,
        data: [
          {
            keyword: "花卉",
            score: 0.861936,
            root: "商品-农用物资",
          },
          {
            keyword: "薰衣草",
            score: 0.549889,
            root: "植物-唇形科",
          },
          {
            keyword: "熏衣草",
            score: 0.363446,
            root: "植物-唇形科",
          },
          {
            keyword: "紫色薰衣草",
            score: 0.186823,
            root: "植物-花",
          },
        ],
      },
      {
        name: "商品-农用物资",
        position: "01:06-01:07",
        imagePath: "/file/videoImg/2/image_5.jpg",
        score: 0.855462,
        data: [
          {
            keyword: "花卉",
            score: 0.855462,
            root: "商品-农用物资",
          },
          {
            keyword: "花楸浆果",
            score: 0.545776,
            root: "植物-果实/种子",
          },
          {
            keyword: "红果",
            score: 0.370143,
            root: "植物-果实/种子",
          },
          {
            keyword: "火棘属",
            score: 0.184778,
            root: "植物-花",
          },
        ],
      },
      {
        name: "植物-其它",
        position: "02:51-02:52",
        imagePath: "/file/videoImg/2/image_12.jpg",
        score: 0.821721,
        data: [
          {
            keyword: "银杏树",
            score: 0.821721,
            root: "植物-其它",
          },
          {
            keyword: "枫叶",
            score: 0.650667,
            root: "植物-其它",
          },
          {
            keyword: "枫树",
            score: 0.475255,
            root: "植物-其它",
          },
          {
            keyword: "银杏",
            score: 0.305521,
            root: "植物-银杏科",
          },
        ],
      },
      {
        name: "植物-其它",
        position: "03:06-03:07",
        imagePath: "/file/videoImg/2/image_13.jpg",
        score: 0.808747,
        data: [
          {
            keyword: "枫叶",
            score: 0.808747,
            root: "植物-其它",
          },
          {
            keyword: "银杏树",
            score: 0.640525,
            root: "植物-其它",
          },
          {
            keyword: "枫树",
            score: 0.4699,
            root: "植物-其它",
          },
          {
            keyword: "油画",
            score: 0.300682,
            root: "非自然图像-艺术画",
          },
        ],
      },
      {
        name: "植物-树",
        position: "00:06-00:07",
        imagePath: "/file/videoImg/2/image_1.jpg",
        score: 0.782297,
        data: [
          {
            keyword: "树",
            score: 0.782297,
            root: "植物-树",
          },
          {
            keyword: "芭蕉叶",
            score: 0.510042,
            root: "植物-叶子植物",
          },
          {
            keyword: "芭蕉树",
            score: 0.346627,
            root: "植物-叶子植物",
          },
          {
            keyword: "卡通动漫人物",
            score: 0.17321,
            root: "非自然图像-彩色动漫",
          },
        ],
      },
      {
        name: "植物-其它",
        position: "02:36-02:37",
        imagePath: "/file/videoImg/2/image_11.jpg",
        score: 0.74615,
        data: [
          {
            keyword: "紫色薰衣草",
            score: 0.74615,
            root: "植物-其它",
          },
          {
            keyword: "羽叶薰衣草",
            score: 0.586056,
            root: "植物-唇形科",
          },
          {
            keyword: "花海",
            score: 0.429059,
            root: "植物-其它",
          },
          {
            keyword: "蓝花楹",
            score: 0.272356,
            root: "植物-紫葳科",
          },
        ],
      },
      {
        name: "植物-其它",
        position: "01:51-01:52",
        imagePath: "/file/videoImg/2/image_8.jpg",
        score: 0.744306,
        data: [
          {
            keyword: "紫色薰衣草",
            score: 0.744306,
            root: "植物-其它",
          },
          {
            keyword: "羽叶薰衣草",
            score: 0.58824,
            root: "植物-唇形科",
          },
          {
            keyword: "花海",
            score: 0.426805,
            root: "植物-其它",
          },
          {
            keyword: "千屈菜",
            score: 0.270511,
            root: "植物-千屈菜科",
          },
        ],
      },
      {
        name: "植物-树",
        position: "00:36-00:37",
        imagePath: "/file/videoImg/2/image_3.jpg",
        score: 0.718,
        data: [
          {
            keyword: "树",
            score: 0.718,
            root: "植物-树",
          },
          {
            keyword: "柏科",
            score: 0.549966,
            root: "植物-柏科",
          },
          {
            keyword: "扁柏梢小蠹",
            score: 0.380853,
            root: "植物-树",
          },
          {
            keyword: "峨眉石杉",
            score: 0.197325,
            root: "植物-药材",
          },
        ],
      },
      {
        name: "植物-树",
        position: "00:21-00:22",
        imagePath: "/file/videoImg/2/image_2.jpg",
        score: 0.659965,
        data: [
          {
            keyword: "树",
            score: 0.659965,
            root: "植物-树",
          },
          {
            keyword: "芭蕉叶",
            score: 0.437362,
            root: "植物-叶子植物",
          },
          {
            keyword: "卡通动漫人物",
            score: 0.296339,
            root: "非自然图像-彩色动漫",
          },
          {
            keyword: "图画",
            score: 0.154467,
            root: "商品-绘画",
          },
        ],
      },
      {
        name: "商品-农用物资",
        position: "02:06-02:07",
        imagePath: "/file/videoImg/2/image_9.jpg",
        score: 0.484657,
        data: [
          {
            keyword: "花卉",
            score: 0.484657,
            root: "商品-农用物资",
          },
          {
            keyword: "鸢尾科",
            score: 0.397067,
            root: "植物-其它",
          },
          {
            keyword: "薰衣草",
            score: 0.294146,
            root: "植物-唇形科",
          },
          {
            keyword: "熏衣草",
            score: 0.159048,
            root: "植物-唇形科",
          },
        ],
      },
      {
        name: "植物-树",
        position: "00:51-00:52",
        imagePath: "/file/videoImg/2/image_4.jpg",
        score: 0.351518,
        data: [
          {
            keyword: "树",
            score: 0.351518,
            root: "植物-树",
          },
          {
            keyword: "盆栽植物",
            score: 0.257676,
            root: "植物-其它",
          },
          {
            keyword: "花卉",
            score: 0.173836,
            root: "商品-农用物资",
          },
          {
            keyword: "荷花",
            score: 0.084924,
            root: "植物-其它",
          },
        ],
      },
    ],
    code: "200",
  },
];

resObj = JSON.parse(JSON.stringify(resultList[0]));

$("#returnresult").html(syntaxHighlight(resObj));

$(".analysis_name").click(function () {
  if (isUploadFile) {
    var uploadFiles = document.querySelector(".fileUpload");
    var file = uploadFiles.files[0]; //文件

    if (file) {
      var size = file.size / 1024 / 1024;
      if (size < 100) {
        document.querySelector("#marklayer").classList.add("mark-show"); //加载状态
        var formData = new FormData();
        formData.append("video", file);
        $.ajax({
          method: "POST",
          headers: {
            "secret-id": secret_id,
            "secret-key": secret_key,
          },
          url: baseAPI + "/classvid",
          data: formData,
          contentType: false,
          processData: false,
          success: function (res) {
            document.querySelector("#marklayer").classList.remove("mark-show");
            if (res.code == 200) {
              $(".step_tip").addClass("hide_result");
              $("#analysis_online").removeClass("hide_result");
              var strHtml = "";
              res.result.forEach((item, index) => {
                strHtml += `<tr>
        <td>${item.name}</td>
        <td><span>${
          item.position
        }</span><span class="uil-play-circle" onclick="showPicture(${JSON.stringify(
                  item
                ).replace(/"/g, "&quot;")})"></span></td>
        <td>${item.score}</td>
      </tr>`;
              });
              $(".table_list").html(strHtml);

              let returnresult = syntaxHighlight(res);
              $("#returnresult").html(returnresult);
            }
          },
          error() {
            document.querySelector("#marklayer").classList.remove("mark-show");
            $(".message-error .message_content").html("服务器繁忙，请稍后再试");
            $(".message-error").removeClass("message-hide");
            setTimeout(() => {
              $(".message-error").addClass("message-hide");
            }, 2000);
          },
        });
      }
    }
  } else {
    document.querySelector("#marklayer").classList.add("mark-show"); //加载状态
    setTimeout(() => {
      document.querySelector("#marklayer").classList.remove("mark-show"); //加载状态
      $(".step_tip").addClass("hide_result");
      $("#analysis_online").removeClass("hide_result");
      var strHtml = "";
      resultList[current].result.forEach((item, index) => {
        strHtml += `<tr>
        <td>${item.name}</td>
        <td><span>${
          item.position
        }</span><span class="uil-play-circle" onclick="showPicture(${JSON.stringify(
          item
        ).replace(/"/g, "&quot;")})"></span></td>
        <td>${item.score}</td>
      </tr>`;
      });
      $(".table_list").html(strHtml);
      let resJSON = JSON.stringify(resultList[current]);
      resObj = JSON.parse(resJSON);
      let returnresult = syntaxHighlight(resObj);
      $("#returnresult").html(returnresult);
    }, 3000);
  }
});
