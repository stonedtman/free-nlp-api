<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <script>
    try {
      if (isindex) {
      }
    } catch (e) {
      window.location.href = "/dist/index.html";
    }
  </script>

  <link href="/dist/assets/css/public.css" rel="stylesheet" />
  <link rel="stylesheet" href="/dist/assets/css/opticalCharacters/index.css" />

</head>

<body>
  <div>
    <div class="row page-title align-items-center">
      <div class="col-sm-4 col-xl-6">
        <h4 class="mb-1 mt-0">通用识别</h4>
      </div>
    </div>
    <div class="col-xl-12">
      <div class="card blank">
        <div class="card-body p-0 blank-body">
          <div class="edit_name">
            <span>接口说明：</span><span>通过领先的深度学习技术，对各种表格，图片，文档、证件、面单等多种通用场景进行快速、精准的检测和识别，支持简体中文/繁体中文/英文/数字/西欧主流语言/东欧主流语言等共52种语言，同时支持印刷体、手写体、倾斜、折叠、旋转等。
            </span>
          </div>
          <div class="filter">
            <div class="left_box">
              <ul class="nav nav-tabs">
                <li class="nav-item" onclick="changetab(0)">
                  <a href="javascript: void(0);" data-toggle="tab" aria-expanded="true" class="nav-link active">
                    <span class="d-block d-sm-none"><i class="uil-home-alt"></i></span>
                    <span class="d-none d-sm-block">合同扫码文件</span>
                  </a>
                </li>
                <li class="nav-item" onclick="changetab(1)">
                  <a href="javascript: void(0);" data-toggle="tab" aria-expanded="false" class="nav-link">
                    <span class="d-block d-sm-none"><i class="uil-user"></i></span>
                    <span class="d-none d-sm-block">食品包装袋</span>
                  </a>
                </li>
                <li class="nav-item" onclick="changetab(2)">
                  <a href="javascript: void(0);" data-toggle="tab" aria-expanded="false" class="nav-link">
                    <span class="d-block d-sm-none"><i class="uil-envelope"></i></span>
                    <span class="d-none d-sm-block">手写手抄件</span>
                  </a>
                </li>

                <li class="nav-item" onclick="changetab(3)">
                  <a href="javascript: void(0);" data-toggle="tab" aria-expanded="false" class="nav-link">
                    <span class="d-block d-sm-none"><i class="uil-envelope"></i></span>
                    <span class="d-none d-sm-block">图文广告</span>
                  </a>
                </li>

              </ul>
            </div>
          </div>
          <!-- 查看原图 -->
          <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true"><i class="uil uil-multiply" style="font-size: 18px;"></i></span>
                  </button>
                </div>
                <div class="modal-body">
                  <img src="" alt="" />
                </div>
                <div class="modal-footer">
                  <button class="btn enlarge"><i class="uil-plus"></i></span></button>
                  <button class="btn shrink"><i class="uil-minus"></i></span></button>
                </div>
              </div>
            </div>
          </div>
          <div class="simple_module">
            <div class="identity_target">
              <div class="title">识别目标</div>
              <div class="pictures">
                <img class="preview" src="" alt="" />
              </div>
            </div>
            <div class="analysis_result">
              <div class="item_top">
                <div class="title">识别结果</div>
                <button class="btn btn-link btn-table copyText" onclick="copyText(0)">一键复制</button>
              </div>
              <div class="step_tip">点击 “在线分析” 查看分析结果</div>
              <pre id="analysis_online" class="analysis_online hide_result"></pre>
            </div>
          </div>
          <div class="simple_module hidden">
            <div class="identity_target">
              <div class="title">识别目标</div>
              <div class="pictures">
                <img class="preview" src="" alt="" />
              </div>
            </div>

            <div class="analysis_result">
              <div class="item_top">
                <div class="title">识别结果</div>
                <button class="btn btn-link btn-table copyText" onclick="copyText(1)">一键复制</button>
              </div>
              <div class="step_tip">点击 “在线分析” 查看分析结果</div>
              <pre id="analysis_online" class="analysis_online hide_result"></pre>
            </div>
          </div>
          <div class="simple_module hidden">
            <div class="identity_target">
              <div class="title">识别目标</div>
              <div class="pictures">
                <img class="preview" src="" alt="" />
              </div>
            </div>

            <div class="analysis_result">
              <div class="item_top">
                <div class="title">识别结果</div>
                <button class="btn btn-link btn-table copyText" onclick="copyText(2)">一键复制</button>
              </div>
              <div class="step_tip">点击 “在线分析” 查看分析结果</div>
              <pre id="analysis_online" class="analysis_online hide_result"></pre>
            </div>
          </div>

          <div class="simple_module hidden">
            <div class="identity_target">
              <div class="title">识别目标</div>
              <div class="pictures">
                <img class="preview" src="" alt="" />
              </div>
            </div>

            <div class="analysis_result">
              <div class="item_top">
                <div class="title">识别结果</div>
                <button class="btn btn-link btn-table copyText" onclick="copyText(3)">一键复制</button>
              </div>
              <div class="step_tip">点击 “在线分析” 查看分析结果</div>
              <pre id="analysis_online" class="analysis_online hide_result"></pre>
            </div>
          </div>
          <div class="row row-bottom">
            <div class="row-left w-36">
              <div class="look_Original poiner" data-toggle="modal" data-target="#exampleModal" onclick="lookPicture()">
                (查看原图)
              </div>
            </div>
            <div class="row-right">
              <div class="analysis_name btn btn-primary">在线分析</div>
              <div class="upload">
                <!-- <i data-feather="plus"></i> -->
                <input type="file" class="fileUpload" accept=".bmp,.jpg,.png,jpeg" />
                <div class="btn btn-primary">
                  上传图片
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="analysis_item">
      <div class="item_name">接口请求地址</div>
      <div class="card mt-1">
        <div class="card-body">
          <ul class="nav nav-tabs">
            <li class="nav-item">
              <a href="#addressParameter" data-toggle="tab" aria-expanded="false" class="nav-link active">
                <span class="d-block d-sm-none"><i class="uil-file-upload-alt"></i></span>
                <span class="d-none d-sm-block">请求参数</span>
              </a>
            </li>
            <li class="nav-item">
              <a href="#addressExample" data-toggle="tab" aria-expanded="true" class="nav-link">
                <span class="d-block d-sm-none"><i class="uil-file-alt"></i></span>
                <span class="d-none d-sm-block">请求密钥</span>
              </a>
            </li>
          </ul>
          <div class="tab-content p-3 text-muted">
            <div class="tab-pane show active" id="addressParameter">
              <div class="table-responsive">
                <table class="table table-hover table-nowrap mb-0">
                  <thead>
                    <tr>
                      <th>名称</th>
                      <th>请求示例</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>请求地址</td>
                      <td>
                        <a class="request_address" target="_blank"></a>
                      </td>
                    </tr>
                    <tr>
                      <td>请求方式</td>
                      <td>post</td>
                    </tr>
                    <tr>
                      <td>请求类型</td>
                      <td>body</td>
                    </tr>
                    <tr>
                      <td>请求格式</td>
                      <td>form-data</td>
                    </tr>
                    <tr>
                      <td>批量请求</td>
                      <td>不支持</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="tab-pane" id="addressExample">
              <div class="table-responsive">
                <table class="table table-hover table-nowrap mb-0">
                  <thead>
                    <tr>
                      <th>名称</th>
                      <th>请求示例</th>

                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>secret-id</td>
                      <td class="secret_id"></td>
                    </tr>
                    <tr>
                      <td>secret-key</td>
                      <td class="secret_key"></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="analysis_item">
      <div class="item_name">接口请求参数</div>
      <div class="card mt-1">
        <div class="card-body">
          <ul class="nav nav-tabs">
            <li class="nav-item">
              <a href="#parameter" data-toggle="tab" aria-expanded="false" class="nav-link active">
                <span class="d-block d-sm-none"><i class="uil-file-upload-alt"></i></span>
                <span class="d-none d-sm-block">请求参数</span>
              </a>
            </li>
            <li class="nav-item">
              <a href="#example" data-toggle="tab" aria-expanded="true" class="nav-link">
                <span class="d-block d-sm-none"><i class="uil-file-alt"></i></span>
                <span class="d-none d-sm-block">请求示例</span>
              </a>
            </li>
          </ul>
          <div class="tab-content p-3 text-muted">
            <div class="tab-pane show active" id="parameter">
              <div class="table-responsive">
                <table class="table table-hover table-nowrap mb-0">
                  <thead>
                    <tr>
                      <th>请求参数</th>
                      <th>数据类型</th>
                      <th>描述</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>images</td>
                      <td>binary</td>
                      <td>
                        待查询的图片。图片大小必须在10M以内，支持jpg/png/bmp/jpeg格式。
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="tab-pane" id="example">
              <pre id="result"></pre>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="analysis_item">
      <div class="item_name">接口返回内容</div>
      <div class="card mt-1">
        <div class="card-body">
          <ul class="nav nav-tabs">
            <li class="nav-item">
              <a href="#returnparameter" data-toggle="tab" aria-expanded="false" class="nav-link active">
                <span class="d-block d-sm-none"><i class="uil-file-upload-alt"></i></span>
                <span class="d-none d-sm-block">返回结果</span>
              </a>
            </li>
            <li class="nav-item">
              <a href="#returnexample" data-toggle="tab" aria-expanded="true" class="nav-link">
                <span class="d-block d-sm-none"><i class="uil-file-alt"></i></span>
                <span class="d-none d-sm-block">返回示例</span>
              </a>
            </li>
          </ul>
          <div class="tab-content p-3 text-muted">
            <div class="tab-pane show active" id="returnparameter">
              <div class="table-responsive">
                <table class="table table-hover table-nowrap mb-0">
                  <thead>
                    <tr>
                      <th>返回参数</th>
                      <th>数据类型</th>
                      <th>描述</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>confidence</td>
                      <td>float</td>
                      <td>识别率得分</td>
                    </tr>
                    <tr>
                      <td>text</td>
                      <td>string</td>
                      <td>识别文字内容</td>
                    </tr>
                    <tr>
                      <td>text_box_position</td>
                      <td>list->map</td>
                      <td>字符对应图像中的焦点坐标</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="tab-pane" id="returnexample">
              <pre id="returnresult"></pre>

            </div>
          </div>
        </div>
      </div>
    </div>

  </div>

  <script src="/dist/assets/libs/apexcharts/apexcharts.min.js"></script>
  <script src="/dist/assets/js/public.js"></script>


  <script>
    var pictureList = ["/file/ocr/1.jpg", "/file/ocr/2.png", "/file/ocr/3.png", "/file/ocr/5.jpg"];
    $(".preview").each(function (index) {
      $(this).attr("src", staticPath + pictureList[index])
    })
    $(".request_address").attr("href", requestAddress + "/ocr")
    $(".request_address").html(requestAddress + "/ocr")
    var defaultWidth = 500;
    $(".enlarge").click(function () {
      if (defaultWidth < 1060) {
        defaultWidth += 40;
        $(".modal-dialog").css("width", defaultWidth);
      } else {
        return
      }

    })
    $(".shrink").click(function () {
      if (defaultWidth > 500) {
        defaultWidth -= 40;
        $(".modal-dialog").css("width", defaultWidth);
      } else {
        return
      }

    })
  </script>
  <script>
    var isUpload = false;
    var current = 0;
    var simpleModules = document.querySelectorAll(".simple_module");
    var analysisResult = document.querySelectorAll("#analysis_online");
    //合同扫码文件
    var contract = {
      msg: "光学字符获取成功",
      results: [
        {
          save_path: "",
          data: [
            {
              text_box_position: [
                [535, 70],
                [701, 66],
                [701, 95],
                [536, 99],
              ],
              confidence: 0.9457485675811768,
              text: "Mysoft明源",
            },
            {
              text_box_position: [
                [75, 105],
                [121, 108],
                [120, 125],
                [73, 122],
              ],
              confidence: 0.8483217358589172,
              text: "第六条",
            },
            {
              text_box_position: [
                [139, 109],
                [293, 109],
                [293, 125],
                [139, 125],
              ],
              confidence: 0.9641990065574646,
              text: "适用法律及争议解决方式",
            },
            {
              text_box_position: [
                [104, 146],
                [140, 146],
                [140, 159],
                [104, 159],
              ],
              confidence: 0.9782196879386902,
              text: "6.1",
            },
            {
              text_box_position: [
                [136, 145],
                [540, 146],
                [540, 163],
                [136, 161],
              ],
              confidence: 0.98350590467453,
              text: "本合同的订立、效力、履行和解释均受中华人民共和国法律的管辖。",
            },
            {
              text_box_position: [
                [102, 178],
                [142, 178],
                [142, 195],
                [102, 195],
              ],
              confidence: 0.7793939113616943,
              text: "6.2",
            },
            {
              text_box_position: [
                [136, 178],
                [745, 182],
                [745, 198],
                [136, 195],
              ],
              confidence: 0.9361648559570312,
              text: "双方应本着互谅互解的原则，协商解决因本合同引起的或与本合同有关的任何争议；协商解决不成的，",
            },
            {
              text_box_position: [
                [139, 202],
                [377, 204],
                [377, 221],
                [139, 218],
              ],
              confidence: 0.9264265894889832,
              text: "任何一方均有权向被告所在地法院起诉。",
            },
            {
              text_box_position: [
                [75, 233],
                [119, 233],
                [119, 249],
                [75, 249],
              ],
              confidence: 0.9870054721832275,
              text: "第七条",
            },
            {
              text_box_position: [
                [139, 234],
                [238, 234],
                [238, 251],
                [139, 251],
              ],
              confidence: 0.8899487257003784,
              text: "合同生效及其他",
            },
            {
              text_box_position: [
                [138, 268],
                [742, 272],
                [742, 289],
                [138, 285],
              ],
              confidence: 0.934130847454071,
              text: "本合同自双方授权代表签字并加盖公章之日起成立并生效：本合同壹式贰份，双方各执壹份，具有同",
            },
            {
              text_box_position: [
                [140, 291],
                [214, 293],
                [214, 310],
                [139, 307],
              ],
              confidence: 0.9544733166694641,
              text: "等法律效力。",
            },
            {
              text_box_position: [
                [101, 325],
                [742, 329],
                [742, 346],
                [101, 342],
              ],
              confidence: 0.967498779296875,
              text: "7.2本合同生效后，无论甲方或乙方的名称、组织形式、企业性质、经营范围、注册资本、投资者等发生",
            },
            {
              text_box_position: [
                [141, 350],
                [718, 353],
                [718, 369],
                [140, 367],
              ],
              confidence: 0.9229387044906616,
              text: "任何变更，甲方或乙方应继续或要求其权利义务的继承人恪守并履行其在本合同项下之相关义务。",
            },
            {
              text_box_position: [
                [104, 385],
                [143, 385],
                [143, 398],
                [104, 398],
              ],
              confidence: 0.8319008946418762,
              text: "7.3",
            },
            {
              text_box_position: [
                [136, 384],
                [742, 386],
                [742, 403],
                [136, 400],
              ],
              confidence: 0.9318128228187561,
              text: "双方承认并同意将本合同文本作为双方合同完整的和唯一的表述，以取代此前双方有关此项目内容的",
            },
            {
              text_box_position: [
                [139, 407],
                [742, 410],
                [742, 426],
                [139, 424],
              ],
              confidence: 0.9532259106636047,
              text: "所有口头、书面、及其他通信方式中的表述。任何不在本合同书面约定条款范围内的口头承诺对甲乙",
            },
            {
              text_box_position: [
                [140, 432],
                [251, 432],
                [251, 448],
                [140, 448],
              ],
              confidence: 0.9877293705940247,
              text: "双方不具备约束力",
            },
            {
              text_box_position: [
                [102, 464],
                [743, 468],
                [743, 485],
                [102, 481],
              ],
              confidence: 0.9342279434204102,
              text: "7.4对本合同进行的任何更改和补充，均应由双方授权代表签字并加盖公司公章方有效，所有更改、补充",
            },
            {
              text_box_position: [
                [139, 488],
                [339, 489],
                [339, 506],
                [139, 505],
              ],
              confidence: 0.9734746813774109,
              text: "文件将成为合同不可分割的部分。",
            },
            {
              text_box_position: [
                [102, 519],
                [748, 523],
                [748, 543],
                [102, 539],
              ],
              confidence: 0.9500835537910461,
              text: "7.5本合同所涉及的所有赔偿，双方的赔偿责任均为有限责任，违约赔偿金额最大不超过本合同金额的10",
            },
            {
              text_box_position: [
                [139, 545],
                [163, 545],
                [163, 564],
                [139, 564],
              ],
              confidence: 0.8969129920005798,
              text: "倍。",
            },
            {
              text_box_position: [
                [104, 578],
                [476, 580],
                [476, 596],
                [104, 595],
              ],
              confidence: 0.959312915802002,
              text: "7.6本合同所涉及的价格约定具有时效性，其有效期为壹年。",
            },
            {
              text_box_position: [
                [166, 681],
                [193, 677],
                [196, 696],
                [168, 700],
              ],
              confidence: 0.9994574189186096,
              text: "海",
            },
            {
              text_box_position: [
                [77, 684],
                [162, 684],
                [162, 701],
                [77, 701],
              ],
              confidence: 0.9045178890228271,
              text: "甲方（盖章）",
            },
            {
              text_box_position: [
                [77, 736],
                [179, 736],
                [179, 753],
                [77, 753],
              ],
              confidence: 0.8979044556617737,
              text: "法定代表或授权",
            },
            {
              text_box_position: [
                [77, 788],
                [119, 788],
                [119, 805],
                [77, 805],
              ],
              confidence: 0.9391924738883972,
              text: "日期：",
            },
            {
              text_box_position: [
                [212, 790],
                [232, 790],
                [232, 804],
                [212, 804],
              ],
              confidence: 0.9995868802070618,
              text: "月",
            },
            {
              text_box_position: [
                [260, 790],
                [277, 790],
                [277, 805],
                [260, 805],
              ],
              confidence: 0.979790449142456,
              text: "日",
            },
            {
              text_box_position: [
                [231, 869],
                [260, 864],
                [263, 884],
                [234, 889],
              ],
              confidence: 0.7549512982368469,
              text: "(4）",
            },
            {
              text_box_position: [
                [80, 893],
                [349, 893],
                [349, 908],
                [80, 908],
              ],
              confidence: 0.9540631175041199,
              text: "乙方（盖章）：深圳市明源软件股份有限公司",
            },
            {
              text_box_position: [
                [281, 935],
                [330, 928],
                [333, 946],
                [284, 953],
              ],
              confidence: 0.8318319320678711,
              text: "309728",
            },
            {
              text_box_position: [
                [77, 945],
                [190, 943],
                [191, 959],
                [78, 962],
              ],
              confidence: 0.9682613611221313,
              text: "法定代表或授权人",
            },
            {
              text_box_position: [
                [77, 992],
                [279, 992],
                [279, 1015],
                [77, 1015],
              ],
              confidence: 0.6617727875709534,
              text: "日期：204年十月29日",
            },
            {
              text_box_position: [
                [267, 1095],
                [401, 1095],
                [401, 1110],
                [267, 1110],
              ],
              confidence: 0.9579557776451111,
              text: "www.mysoft.com.cn",
            },
            {
              text_box_position: [
                [460, 1094],
                [565, 1094],
                [565, 1109],
                [460, 1109],
              ],
              confidence: 0.9846997261047363,
              text: "第4页共4页",
            },
          ],
        },
      ],
      code: "200",
    };
    function textextraction(data) {
      var html = ""
      for (var i = 0; i < data.length; i++) {
        html += `<div style="position: absolute;left:${data[i].text_box_position[0][0]}px;top:${data[i].text_box_position[0][1]}px">${data[i].text}</div>`
      }
      return html
    }
    // analysisResult[0].innerHTML = textextraction(contract.results[0].data);
    $("#returnresult").html(syntaxHighlight(contract));

    function changetab(index) {
      if (index != current) {
        isUpload = false;
        if (index == 0) {
          $(".modal-dialog").css("width", 500);
          defaultWidth = 500;

        } else if (index == 1) {
          $(".modal-dialog").css("width", 500);
          defaultWidth = 500;

        } else if (index == 2) {
          $(".modal-dialog").css("width", 500);
          defaultWidth = 500;

        } else if (index == 3) {
          $(".modal-dialog").css("width", 500);
          defaultWidth = 500;

        }

        simpleModules[index].classList.remove("hidden");
        simpleModules[current].classList.add("hidden");
        current = index;
      }


    }

    var fileUpload = document.querySelector(".fileUpload");
    fileUpload.addEventListener("change", function (e) {
      // console.log(e.target.files[0]);
      var file = e.target.files[0];
      var size = file.size / 1024 / 1024;

      if (file) {
        isUpload = true;
        if (size < 10) {
          previewPic(file, current);
        } else {

          $(".message-error .message_content").html("上传的图片大小不能超过10M");
          $(".message-error").removeClass("message-hide");
          setTimeout(() => {
            $(".message-error").addClass("message-hide");
          }, 2000);
        }

      }
    });


    //生成预览图
    var imgList = document.querySelectorAll(".preview");
    function previewPic(file, index) {
      var reader = new FileReader();
      reader.readAsDataURL(file);
      reader.onload = function (e) {
        console.log(e.target.result);
        //图片路径设置为读取的图片
        imgList[index].src = e.target.result;
      };
    }

    function showResult(index) {
      if (index == 0) {
        $(".modal-dialog").css("width", 500);
        defaultWidth = 500;
        //合同扫码文件
        // analysisResult[0].innerHTML = syntaxHighlight(contract);
        analysisResult[0].innerHTML = textextraction(contract.results[0].data);
        $("#returnresult").html(syntaxHighlight(contract));
      } else if (index == 1) {
        $(".modal-dialog").css("width", 500);
        defaultWidth = 500;
        //食品包装袋
        var foodpackage = {
          msg: "光学字符获取成功",
          results: [
            {
              save_path: "",
              data: [
                {
                  text_box_position: [
                    [137, 113],
                    [359, 113],
                    [359, 137],
                    [137, 137],
                  ],
                  confidence: 0.9622629284858704,
                  text: "食品名称：速冻糯香八宝饭",
                },
                {
                  text_box_position: [
                    [137, 144],
                    [405, 144],
                    [405, 168],
                    [137, 168],
                  ],
                  confidence: 0.957686722278595,
                  text: "产品类别：速冻米面制品（熟制品）",
                },
                {
                  text_box_position: [
                    [137, 178],
                    [531, 178],
                    [531, 197],
                    [137, 197],
                  ],
                  confidence: 0.9160096049308777,
                  text: "配料：白糯米、饮用水、白砂糖、蜜枣、葡萄干",
                },
                {
                  text_box_position: [
                    [538, 181],
                    [598, 181],
                    [598, 196],
                    [538, 196],
                  ],
                  confidence: 0.9236424565315247,
                  text: "植物油",
                },
                {
                  text_box_position: [
                    [139, 209],
                    [497, 209],
                    [497, 228],
                    [139, 228],
                  ],
                  confidence: 0.9719425439834595,
                  text: "食品生产许可证编号：SC11141162600559",
                },
                {
                  text_box_position: [
                    [136, 238],
                    [225, 238],
                    [225, 262],
                    [136, 262],
                  ],
                  confidence: 0.9060583114624023,
                  text: "执行标准：",
                },
                {
                  text_box_position: [
                    [137, 271],
                    [354, 271],
                    [354, 291],
                    [137, 291],
                  ],
                  confidence: 0.9200244545936584,
                  text: "保质期：-18度以下12个月",
                },
                {
                  text_box_position: [
                    [135, 299],
                    [390, 300],
                    [389, 324],
                    [135, 323],
                  ],
                  confidence: 0.9712153077125549,
                  text: "贮存条件：-18度以下冷冻保存",
                },
                {
                  text_box_position: [
                    [139, 334],
                    [322, 334],
                    [322, 354],
                    [139, 354],
                  ],
                  confidence: 0.975225567817688,
                  text: "生产日期：见包装喷码",
                },
                {
                  text_box_position: [
                    [140, 379],
                    [225, 383],
                    [224, 409],
                    [139, 406],
                  ],
                  confidence: 0.913223385810852,
                  text: "使用方法",
                },
                {
                  text_box_position: [
                    [159, 440],
                    [273, 440],
                    [273, 470],
                    [159, 470],
                  ],
                  confidence: 0.9548059701919556,
                  text: "①去包装",
                },
                {
                  text_box_position: [
                    [442, 443],
                    [568, 443],
                    [568, 468],
                    [442, 468],
                  ],
                  confidence: 0.9808244705200195,
                  text: "锅蒸或微波",
                },
                {
                  text_box_position: [
                    [146, 608],
                    [336, 608],
                    [336, 628],
                    [146, 628],
                  ],
                  confidence: 0.9599249362945557,
                  text: "除去外包装，取出八宝饭",
                },
                {
                  text_box_position: [
                    [397, 607],
                    [594, 605],
                    [594, 629],
                    [397, 631],
                  ],
                  confidence: 0.9486753344535828,
                  text: "锅底水，大火蒸18分钟",
                },
                {
                  text_box_position: [
                    [650, 608],
                    [875, 608],
                    [875, 628],
                    [650, 628],
                  ],
                  confidence: 0.9441081285476685,
                  text: "放到微波炉里解冻6-8分钟，再",
                },
                {
                  text_box_position: [
                    [142, 629],
                    [218, 629],
                    [218, 653],
                    [142, 653],
                  ],
                  confidence: 0.9394223690032959,
                  text: "放入盘中",
                },
                {
                  text_box_position: [
                    [397, 632],
                    [437, 632],
                    [437, 653],
                    [397, 653],
                  ],
                  confidence: 0.9990699291229248,
                  text: "左右",
                },
                {
                  text_box_position: [
                    [649, 630],
                    [820, 630],
                    [820, 654],
                    [649, 654],
                  ],
                  confidence: 0.9176863431930542,
                  text: "高火3分钟，即可食用",
                },
                {
                  text_box_position: [
                    [140, 695],
                    [395, 695],
                    [395, 715],
                    [140, 715],
                  ],
                  confidence: 0.962832510471344,
                  text: "生产商：周口花禾食品有限公司",
                },
                {
                  text_box_position: [
                    [139, 726],
                    [415, 726],
                    [415, 746],
                    [139, 746],
                  ],
                  confidence: 0.9602985382080078,
                  text: "地址：河南省周口市淮阳区四通镇",
                },
                {
                  text_box_position: [
                    [139, 756],
                    [359, 756],
                    [359, 776],
                    [139, 776],
                  ],
                  confidence: 0.9782119989395142,
                  text: "销售热线：0394-2731626",
                },
                {
                  text_box_position: [
                    [139, 797],
                    [242, 797],
                    [242, 821],
                    [139, 821],
                  ],
                  confidence: 0.9760278463363647,
                  text: "营养成分表",
                },
                {
                  text_box_position: [
                    [430, 843],
                    [510, 843],
                    [510, 869],
                    [430, 869],
                  ],
                  confidence: 0.9906072616577148,
                  text: "每100克",
                },
                {
                  text_box_position: [
                    [316, 844],
                    [359, 840],
                    [362, 867],
                    [318, 871],
                  ],
                  confidence: 0.8272732496261597,
                  text: "项目",
                },
                {
                  text_box_position: [
                    [580, 842],
                    [716, 842],
                    [716, 866],
                    [580, 866],
                  ],
                  confidence: 0.9958690404891968,
                  text: "营养素参考值%",
                },
                {
                  text_box_position: [
                    [431, 883],
                    [504, 883],
                    [504, 905],
                    [431, 905],
                  ],
                  confidence: 0.868573009967804,
                  text: "982千焦",
                },
                {
                  text_box_position: [
                    [319, 884],
                    [359, 884],
                    [359, 907],
                    [319, 907],
                  ],
                  confidence: 0.6342546939849854,
                  text: "能量",
                },
                {
                  text_box_position: [
                    [630, 882],
                    [673, 882],
                    [673, 904],
                    [630, 904],
                  ],
                  confidence: 0.932893693447113,
                  text: "12%",
                },
                {
                  text_box_position: [
                    [309, 918],
                    [371, 918],
                    [371, 944],
                    [309, 944],
                  ],
                  confidence: 0.9606466889381409,
                  text: "蛋白质",
                },
                {
                  text_box_position: [
                    [440, 917],
                    [494, 917],
                    [494, 942],
                    [440, 942],
                  ],
                  confidence: 0.9986189603805542,
                  text: "3.8克",
                },
                {
                  text_box_position: [
                    [633, 918],
                    [669, 918],
                    [669, 939],
                    [633, 939],
                  ],
                  confidence: 0.969757616519928,
                  text: "6%",
                },
                {
                  text_box_position: [
                    [440, 952],
                    [493, 952],
                    [493, 977],
                    [440, 977],
                  ],
                  confidence: 0.8828710317611694,
                  text: "3.2克",
                },
                {
                  text_box_position: [
                    [319, 956],
                    [359, 956],
                    [359, 979],
                    [319, 979],
                  ],
                  confidence: 0.9792913198471069,
                  text: "脂肪",
                },
                {
                  text_box_position: [
                    [634, 953],
                    [669, 953],
                    [669, 975],
                    [634, 975],
                  ],
                  confidence: 0.9460153579711914,
                  text: "5%",
                },
                {
                  text_box_position: [
                    [436, 985],
                    [499, 989],
                    [497, 1015],
                    [435, 1011],
                  ],
                  confidence: 0.9718009829521179,
                  text: "47.0克",
                },
                {
                  text_box_position: [
                    [292, 990],
                    [387, 990],
                    [387, 1016],
                    [292, 1016],
                  ],
                  confidence: 0.9070061445236206,
                  text: "碳水化合物",
                },
                {
                  text_box_position: [
                    [630, 989],
                    [673, 989],
                    [673, 1011],
                    [630, 1011],
                  ],
                  confidence: 0.8911492228507996,
                  text: "16%",
                },
                {
                  text_box_position: [
                    [437, 1027],
                    [500, 1027],
                    [500, 1048],
                    [437, 1048],
                  ],
                  confidence: 0.8221817016601562,
                  text: "15毫克",
                },
                {
                  text_box_position: [
                    [325, 1028],
                    [354, 1028],
                    [354, 1051],
                    [325, 1051],
                  ],
                  confidence: 0.99420565366745,
                  text: "钠",
                },
                {
                  text_box_position: [
                    [634, 1025],
                    [669, 1025],
                    [669, 1047],
                    [634, 1047],
                  ],
                  confidence: 0.9280916452407837,
                  text: "1%",
                },
                {
                  text_box_position: [
                    [358, 1268],
                    [660, 1265],
                    [660, 1295],
                    [358, 1298],
                  ],
                  confidence: 0.8372560739517212,
                  text: "周口花禾食品有限公司",
                },
              ],
            },
          ],
          code: "200",
        };
        // analysisResult[1].innerHTML = syntaxHighlight(foodpackage);
        analysisResult[1].innerHTML = textextraction(foodpackage.results[0].data);
        $("#returnresult").html(syntaxHighlight(foodpackage));
      } else if (index == 2) {
        $(".modal-dialog").css("width", 500);
        defaultWidth = 500;
        //手写手抄件
        var handcopy = {
          msg: "光学字符获取成功",
          results: [
            {
              save_path: "",
              data: [
                {
                  text_box_position: [
                    [204, 153],
                    [328, 159],
                    [326, 207],
                    [202, 201],
                  ],
                  confidence: 0.8108088374137878,
                  text: "第二节",
                },
                {
                  text_box_position: [
                    [382, 162],
                    [979, 174],
                    [978, 219],
                    [381, 206],
                  ],
                  confidence: 0.8285351991653442,
                  text: "诗调曲中常用表现手法反行文技证：104",
                },
                {
                  text_box_position: [
                    [122, 211],
                    [273, 219],
                    [270, 272],
                    [119, 264],
                  ],
                  confidence: 0.5074504613876343,
                  text: "笔记十一",
                },
                {
                  text_box_position: [
                    [361, 225],
                    [1045, 230],
                    [1044, 275],
                    [361, 269],
                  ],
                  confidence: 0.8434264063835144,
                  text: "准确解签支诗词阅读题的五个签题模板",
                },
                {
                  text_box_position: [
                    [125, 278],
                    [280, 278],
                    [280, 324],
                    [125, 324],
                  ],
                  confidence: 0.7148213386535645,
                  text: "笔论十二",
                },
                {
                  text_box_position: [
                    [363, 279],
                    [940, 284],
                    [940, 329],
                    [363, 324],
                  ],
                  confidence: 0.914732038974762,
                  text: "突破现这阅读的10个必考点·116",
                },
                {
                  text_box_position: [
                    [208, 336],
                    [307, 336],
                    [307, 379],
                    [208, 379],
                  ],
                  confidence: 0.8307891488075256,
                  text: "文体一",
                },
                {
                  text_box_position: [
                    [387, 335],
                    [593, 341],
                    [591, 387],
                    [386, 381],
                  ],
                  confidence: 0.6443778276443481,
                  text: "散文阅读·I业b",
                },
                {
                  text_box_position: [
                    [207, 387],
                    [315, 396],
                    [311, 444],
                    [203, 435],
                  ],
                  confidence: 0.9271512031555176,
                  text: "文体二",
                },
                {
                  text_box_position: [
                    [384, 400],
                    [598, 395],
                    [599, 441],
                    [386, 447],
                  ],
                  confidence: 0.9142282605171204,
                  text: "小说形象·18",
                },
                {
                  text_box_position: [
                    [206, 451],
                    [313, 457],
                    [310, 498],
                    [203, 492],
                  ],
                  confidence: 0.9801455140113831,
                  text: "文体三",
                },
                {
                  text_box_position: [
                    [389, 456],
                    [630, 460],
                    [629, 499],
                    [388, 496],
                  ],
                  confidence: 0.9200518131256104,
                  text: "说明之阅读·120",
                },
                {
                  text_box_position: [
                    [209, 508],
                    [318, 515],
                    [315, 558],
                    [207, 551],
                  ],
                  confidence: 0.9130828380584717,
                  text: "文体四",
                },
                {
                  text_box_position: [
                    [391, 519],
                    [647, 514],
                    [648, 554],
                    [392, 559],
                  ],
                  confidence: 0.7989633679389954,
                  text: "议论文阅读·[zZ",
                },
                {
                  text_box_position: [
                    [127, 556],
                    [278, 565],
                    [275, 617],
                    [124, 609],
                  ],
                  confidence: 0.8272089958190918,
                  text: "笔记土三",
                },
                {
                  text_box_position: [
                    [363, 567],
                    [999, 575],
                    [999, 620],
                    [363, 611],
                  ],
                  confidence: 0.7969340682029724,
                  text: "中考薇分精彩开头、精妙结尾·124",
                },
                {
                  text_box_position: [
                    [199, 617],
                    [304, 617],
                    [304, 668],
                    [199, 668],
                  ],
                  confidence: 0.7326715588569641,
                  text: "第一节",
                },
                {
                  text_box_position: [
                    [394, 623],
                    [839, 635],
                    [838, 681],
                    [393, 669],
                  ],
                  confidence: 0.787237286567688,
                  text: "中考药分作文精彩开头·124",
                },
                {
                  text_box_position: [
                    [199, 674],
                    [309, 678],
                    [307, 728],
                    [197, 724],
                  ],
                  confidence: 0.9474205374717712,
                  text: "第二节",
                },
                {
                  text_box_position: [
                    [392, 681],
                    [834, 693],
                    [833, 738],
                    [391, 725],
                  ],
                  confidence: 0.7852500081062317,
                  text: "中考药分衣文精妙结尾·区",
                },
                {
                  text_box_position: [
                    [365, 740],
                    [1014, 751],
                    [1014, 795],
                    [364, 785],
                  ],
                  confidence: 0.7211912274360657,
                  text: "中专薇分作文万能语段、多言集摄·132",
                },
                {
                  text_box_position: [
                    [197, 788],
                    [304, 792],
                    [302, 844],
                    [195, 839],
                  ],
                  confidence: 0.7927621006965637,
                  text: "第一节",
                },
                {
                  text_box_position: [
                    [389, 798],
                    [868, 809],
                    [867, 855],
                    [388, 844],
                  ],
                  confidence: 0.7909337878227234,
                  text: "中考药分作文万能语段·132",
                },
                {
                  text_box_position: [
                    [200, 839],
                    [313, 853],
                    [305, 916],
                    [192, 902],
                  ],
                  confidence: 0.8254484534263611,
                  text: "第二节",
                },
                {
                  text_box_position: [
                    [387, 854],
                    [858, 863],
                    [857, 909],
                    [386, 901],
                  ],
                  confidence: 0.884806215763092,
                  text: "中专药分作文多言集·136",
                },
                {
                  text_box_position: [
                    [122, 903],
                    [291, 915],
                    [288, 963],
                    [119, 951],
                  ],
                  confidence: 0.7872723937034607,
                  text: "肇记十五",
                },
                {
                  text_box_position: [
                    [364, 909],
                    [881, 923],
                    [880, 967],
                    [362, 953],
                  ],
                  confidence: 0.7724000811576843,
                  text: "中考燕分征文的三大秘读·138",
                },
                {
                  text_box_position: [
                    [200, 965],
                    [318, 969],
                    [316, 1017],
                    [199, 1013],
                  ],
                  confidence: 0.6164054870605469,
                  text: "秘读一",
                },
                {
                  text_box_position: [
                    [387, 972],
                    [879, 981],
                    [879, 1025],
                    [386, 1016],
                  ],
                  confidence: 0.7387320399284363,
                  text: "记住考场文六大罗作技巧·138",
                },
                {
                  text_box_position: [
                    [201, 1023],
                    [325, 1029],
                    [322, 1077],
                    [198, 1070],
                  ],
                  confidence: 0.8224728107452393,
                  text: "秘送二",
                },
                {
                  text_box_position: [
                    [387, 1030],
                    [859, 1037],
                    [858, 1081],
                    [386, 1074],
                  ],
                  confidence: 0.7078281044960022,
                  text: "极住满分这六大采分点·139",
                },
                {
                  text_box_position: [
                    [200, 1084],
                    [318, 1088],
                    [316, 1131],
                    [199, 1127],
                  ],
                  confidence: 0.6594900488853455,
                  text: "秘决兰",
                },
                {
                  text_box_position: [
                    [386, 1082],
                    [846, 1096],
                    [844, 1143],
                    [384, 1129],
                  ],
                  confidence: 0.7197006940841675,
                  text: "打造高公衣文万能模板·149",
                },
                {
                  text_box_position: [
                    [121, 1133],
                    [280, 1145],
                    [276, 1193],
                    [117, 1181],
                  ],
                  confidence: 0.5490501523017883,
                  text: "达士六",
                },
                {
                  text_box_position: [
                    [362, 1142],
                    [837, 1151],
                    [836, 1197],
                    [361, 1188],
                  ],
                  confidence: 0.8630379438400269,
                  text: "中考作文精选优秀范文·155",
                },
                {
                  text_box_position: [
                    [118, 1187],
                    [285, 1201],
                    [281, 1254],
                    [113, 1240],
                  ],
                  confidence: 0.5608763694763184,
                  text: "笔记+七",
                },
                {
                  text_box_position: [
                    [362, 1198],
                    [841, 1210],
                    [840, 1257],
                    [361, 1244],
                  ],
                  confidence: 0.8341768980026245,
                  text: "初中语之签题公式总结·162",
                },
              ],
            },
          ],
          code: "200",
        };
        // analysisResult[2].innerHTML = syntaxHighlight(handcopy);
        analysisResult[2].innerHTML = textextraction(handcopy.results[0].data);
        $("#returnresult").html(syntaxHighlight(handcopy));
      } else if (index == 3) {
        $(".modal-dialog").css("width", 500);
        defaultWidth = 500;
        var adv = {
          msg: "光学字符获取成功",
          results: [
            {
              save_path: "",
              data: [
                {
                  text_box_position: [
                    [180, 240],
                    [786, 245],
                    [784, 423],
                    [178, 418],
                  ],
                  confidence: 0.9807168841362,
                  text: "婚纱摄影",
                },
                {
                  text_box_position: [
                    [265, 455],
                    [340, 455],
                    [340, 477],
                    [265, 477],
                  ],
                  confidence: 0.9962112307548523,
                  text: "爱你",
                },
                {
                  text_box_position: [
                    [426, 457],
                    [512, 457],
                    [512, 473],
                    [426, 473],
                  ],
                  confidence: 0.5819796323776245,
                  text: "一口",
                },
                {
                  text_box_position: [
                    [547, 451],
                    [717, 451],
                    [717, 476],
                    [547, 476],
                  ],
                  confidence: 0.9980641007423401,
                  text: "只拥有你",
                },
                {
                  text_box_position: [
                    [103, 620],
                    [185, 620],
                    [185, 666],
                    [103, 666],
                  ],
                  confidence: 0.9909427165985107,
                  text: "新款",
                },
                {
                  text_box_position: [
                    [102, 677],
                    [186, 677],
                    [186, 709],
                    [102, 709],
                  ],
                  confidence: 0.9734407663345337,
                  text: "OPEN",
                },
                {
                  text_box_position: [
                    [105, 713],
                    [146, 713],
                    [146, 743],
                    [105, 743],
                  ],
                  confidence: 0.9953919649124146,
                  text: "TO",
                },
                {
                  text_box_position: [
                    [100, 747],
                    [165, 747],
                    [165, 780],
                    [100, 780],
                  ],
                  confidence: 0.984161913394928,
                  text: "ROB",
                },
                {
                  text_box_position: [
                    [65, 805],
                    [241, 805],
                    [241, 835],
                    [65, 835],
                  ],
                  confidence: 0.9985198974609375,
                  text: "夏季开抢5月",
                },
                {
                  text_box_position: [
                    [67, 845],
                    [318, 845],
                    [318, 875],
                    [67, 875],
                  ],
                  confidence: 0.9760977029800415,
                  text: "MARCHSUMMER",
                },
                {
                  text_box_position: [
                    [70, 1387],
                    [332, 1392],
                    [332, 1419],
                    [70, 1414],
                  ],
                  confidence: 0.8696103692054749,
                  text: "大图网DAIMG.com",
                },
                {
                  text_box_position: [
                    [564, 1381],
                    [905, 1383],
                    [905, 1419],
                    [564, 1417],
                  ],
                  confidence: 0.9441016316413879,
                  text: "NO:2020070200077048",
                },
              ],
            },
          ],
          code: "200",
        };
        // analysisResult[4].innerHTML = syntaxHighlight(adv);
        analysisResult[3].innerHTML = textextraction(adv.results[0].data);
        $("#returnresult").html(syntaxHighlight(adv));
      }
    }

    var originPic = document.querySelector(".modal-body img");
    function lookPicture() {
      originPic.src = imgList[current].src;
    }

    //复制文本
    function copyText(index) {
      var textArr = [];
      $(".analysis_online").eq(index).find("div").each(function () {
        textArr.push($(this).text())
      })
      console.log(textArr, "11111")
      var text = textArr.join("\n")
      var oTextarea = document.createElement('textarea');
      oTextarea.value = text;
      document.body.appendChild(oTextarea);
      oTextarea.select();
      document.execCommand("Copy");
      document.body.removeChild(oTextarea);
      $(".message-success .message_content").html("复制成功");
      $(".message-success").removeClass("message-hide");
      setTimeout(() => {
        $(".message-success").addClass("message-hide");
      }, 2000);
    }
  </script>
  <script src="/dist/assets/js/opticalCharacters/index.js"></script>
</body>

</html>